{"remainingRequest":"/home/rafael/desafio-frontend/node_modules/babel-loader/lib/index.js!/home/rafael/desafio-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/rafael/desafio-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/rafael/desafio-frontend/src/views/FilmItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/rafael/desafio-frontend/src/views/FilmItem.vue","mtime":1630082918501},{"path":"/home/rafael/desafio-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rafael/desafio-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/rafael/desafio-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rafael/desafio-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/rafael/desafio-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rafael/desafio-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/rafael/desafio-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rafael/desafio-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IENoYXJhY3Rlck1vZGFsIGZyb20gIi4uL2NvbXBvbmVudHMvQ2hhcmFjdGVyTW9kYWwiOwppbXBvcnQgU3RhclNoaXBNb2RhbCBmcm9tICIuLi9jb21wb25lbnRzL1N0YXJTaGlwTW9kYWwiOwppbXBvcnQgTG9hZGluZ1NwaW5uZXIgZnJvbSAiLi4vY29tcG9uZW50cy9Mb2FkaW5nU3Bpbm5lciI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiZmlsbUl0ZW0iLAogIGNvbXBvbmVudHM6IHsKICAgIENoYXJhY3Rlck1vZGFsOiBDaGFyYWN0ZXJNb2RhbCwKICAgIFN0YXJTaGlwTW9kYWw6IFN0YXJTaGlwTW9kYWwsCiAgICBMb2FkaW5nU3Bpbm5lcjogTG9hZGluZ1NwaW5uZXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmaWxtOiBudWxsLAogICAgICBjaGFyYWN0ZXJzOiBbXSwKICAgICAgc3RhclNoaXBzOiBbXSwKICAgICAgdmVoaWNsZXM6IFtdLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgY2hhcmFjdGVyU2VsZWN0ZWQ6IG51bGwsCiAgICAgIHN0YXJTaGlwU2VsZWN0ZWQ6IG51bGwsCiAgICAgIGltZzogbnVsbAogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHZhciBmaWxtSWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICB3aW5kb3cuY29uc29sZS5sb2codGhpcy5maWxtKTsKICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9zdGFyLXdhcnMvdjEvZmlsbS9maWxtLyIuY29uY2F0KGZpbG1JZCkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBfdGhpcy5maWxtID0gcmVzLmRhdGE7CiAgICAgIHdpbmRvdy5jb25zb2xlLmxvZyhfdGhpcy5maWxtKTsKCiAgICAgIF90aGlzLmdldENoYXJhY3RlcnMoKTsKCiAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0Q2hhcmFjdGVyczogZnVuY3Rpb24gZ2V0Q2hhcmFjdGVycygpIHsKICAgICAgdGhpcy5jaGFyYWN0ZXJzID0gdGhpcy5maWxtLmNoYXJhY3RlcnM7CiAgICB9LAogICAgb3BlbkNoYXJhY3Rlck1vZGFsOiBmdW5jdGlvbiBvcGVuQ2hhcmFjdGVyTW9kYWwoY2hhcmFjdGVySW5kZXgsIGV2ZW50KSB7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHRoaXMuY2hhcmFjdGVyU2VsZWN0ZWQgPSB0aGlzLmNoYXJhY3RlcnNbY2hhcmFjdGVySW5kZXhdOwogICAgICB0aGlzLiRyZWZzLmNoYXJhY3Rlck1vZGFsLnNob3dNb2RhbCgpOwogICAgfSwKICAgIG9wZW5TdGFyU2hpcE1vZGFsOiBmdW5jdGlvbiBvcGVuU3RhclNoaXBNb2RhbChzdGFyU2hpcEluZGV4LCBldmVudCkgewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB0aGlzLnN0YXJTaGlwU2VsZWN0ZWQgPSB0aGlzLnN0YXJTaGlwc1tzdGFyU2hpcEluZGV4XTsKICAgICAgdGhpcy4kcmVmcy5zdGFyU2hpcE1vZGFsLnNob3dNb2RhbCgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["FilmItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,cAAA,MAAA,8BAAA;AACA,OAAA,aAAA,MAAA,6BAAA;AACA,OAAA,cAAA,MAAA,8BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,cAAA,EAAA,cADA;AAEA,IAAA,aAAA,EAAA,aAFA;AAGA,IAAA,cAAA,EAAA;AAHA,GAFA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,IADA;AAEA,MAAA,UAAA,EAAA,EAFA;AAGA,MAAA,SAAA,EAAA,EAHA;AAIA,MAAA,QAAA,EAAA,EAJA;AAKA,MAAA,OAAA,EAAA,KALA;AAMA,MAAA,iBAAA,EAAA,IANA;AAOA,MAAA,gBAAA,EAAA,IAPA;AAQA,MAAA,GAAA,EAAA;AARA,KAAA;AAUA,GAlBA;AAmBA,EAAA,OAnBA,qBAmBA;AAAA;;AACA,QAAA,MAAA,GAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EAAA;AACA,IAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,KAAA,IAAA;AACA,SAAA,OAAA,GAAA,IAAA;AACA,IAAA,KAAA,CAAA,GAAA,wDAAA,MAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA;AACA,MAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,IAAA;;AACA,MAAA,KAAA,CAAA,aAAA;;AACA,MAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,KALA;AAMA,GA7BA;AA8BA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,2BACA;AACA,WAAA,UAAA,GAAA,KAAA,IAAA,CAAA,UAAA;AACA,KAHA;AAIA,IAAA,kBAJA,8BAIA,cAJA,EAIA,KAJA,EAIA;AACA,MAAA,KAAA,CAAA,cAAA;AACA,WAAA,iBAAA,GAAA,KAAA,UAAA,CAAA,cAAA,CAAA;AACA,WAAA,KAAA,CAAA,cAAA,CAAA,SAAA;AACA,KARA;AASA,IAAA,iBATA,6BASA,aATA,EASA,KATA,EASA;AACA,MAAA,KAAA,CAAA,cAAA;AACA,WAAA,gBAAA,GAAA,KAAA,SAAA,CAAA,aAAA,CAAA;AACA,WAAA,KAAA,CAAA,aAAA,CAAA,SAAA;AACA;AAbA;AA9BA,CAAA","sourcesContent":["<template>\n  <b-container class=\"d-flex justify-content-center\">\n    <!-- Loading spinner -->\n    <LoadingSpinner v-if=\"loading\" />\n    <b-row v-else>\n      <b-col cols=\"12\">\n        <b-card style=\"border: none\" no-body class=\"overflow-hidden mb-3\">\n          <b-row no-gutters>\n            <b-col md=\"6\">\n              <b-card-body class=\"text-center\" :title=\"film.title\">\n                <b-card-text class=\"text-left\">\n                  <b>Diretor: </b>{{ film.director }}<br />\n                  <b>Produtor: </b>{{ film.producer }}<br />\n                  <div>\n                    <b>Personagens: </b>\n                    <a\n                      href=\"#\"\n                      v-for=\"(character, index) in characters\"\n                      :key=\"index\"\n                      @click=\"openCharacterModal(index, $event)\"\n                    >\n                      {{ character.name }},\n                    </a>\n                  </div>\n                  \n                </b-card-text>\n              </b-card-body>\n            </b-col>\n          </b-row>\n        </b-card>\n      </b-col>\n    </b-row>\n    <CharacterModal\n      ref=\"characterModal\"\n      :characterSelected=\"characterSelected\"\n    />\n    <StarShipModal ref=\"starShipModal\" :starShipSelected=\"starShipSelected\" />\n  </b-container>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport CharacterModal from \"../components/CharacterModal\";\nimport StarShipModal from \"../components/StarShipModal\";\nimport LoadingSpinner from \"../components/LoadingSpinner\";\n\nexport default {\n  name: \"filmItem\",\n  components: {\n    CharacterModal,\n    StarShipModal,\n    LoadingSpinner\n  },\n  data() {\n    return {\n      film: null,\n      characters: [],\n      starShips: [],\n      vehicles: [],\n      loading: false,\n      characterSelected: null,\n      starShipSelected: null,\n      img: null\n    };\n  },\n  created() {\n    const filmId = this.$route.params.id;\n    window.console.log(this.film);\n    this.loading = true;\n    axios.get( `http://localhost:3000/star-wars/v1/film/film/${filmId}`).then(res => {\n      this.film = res.data;\n      window.console.log(this.film);\n      this.getCharacters();\n      this.loading = false;\n    });\n  },\n  methods: {\n    getCharacters() {\n      this.characters = this.film.characters;\n    },\n    openCharacterModal(characterIndex, event) {\n      event.preventDefault();\n      this.characterSelected = this.characters[characterIndex];\n      this.$refs.characterModal.showModal();\n    },\n    openStarShipModal(starShipIndex, event) {\n      event.preventDefault();\n      this.starShipSelected = this.starShips[starShipIndex];\n      this.$refs.starShipModal.showModal();\n    }\n  }\n};\n</script>\n\n<style scoped></style>\n"],"sourceRoot":"src/views"}]}