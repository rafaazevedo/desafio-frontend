{"remainingRequest":"/home/rafael/desafio-frontend/node_modules/babel-loader/lib/index.js!/home/rafael/desafio-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/rafael/desafio-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/rafael/desafio-frontend/src/views/People.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/rafael/desafio-frontend/src/views/People.vue","mtime":1629893724138},{"path":"/home/rafael/desafio-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rafael/desafio-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/rafael/desafio-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rafael/desafio-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IFBlb3BsZUNhcmQgZnJvbSAiLi4vY29tcG9uZW50cy9QZW9wbGVDYXJkIjsKaW1wb3J0IExvYWRpbmdTcGlubmVyIGZyb20gIi4uL2NvbXBvbmVudHMvTG9hZGluZ1NwaW5uZXIiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInBlb3BsZSIsCiAgY29tcG9uZW50czogewogICAgUGVvcGxlQ2FyZDogUGVvcGxlQ2FyZCwKICAgIExvYWRpbmdTcGlubmVyOiBMb2FkaW5nU3Bpbm5lcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBlb3BsZTogW10sCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICBsb2FkaW5nOiBmYWxzZQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICBheGlvcy5nZXQoImh0dHBzOi8vc3dhcGkuZGV2L2FwaS9wZW9wbGUvP3BhZ2U9MSIpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBfdGhpcy5wZW9wbGUgPSByZXMuZGF0YS5yZXN1bHRzOwoKICAgICAgX3RoaXMuZ2V0UGxhbmV0Rm9yRWFjaFBlcnNvbigpOwoKICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGFuZ2VQYWdlOiBmdW5jdGlvbiBjaGFuZ2VQYWdlKGRpcmVjdGlvbikgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICJsZWZ0IiAmJiB0aGlzLmN1cnJlbnRQYWdlID4gMSkgewogICAgICAgIHRoaXMuY3VycmVudFBhZ2UtLTsKICAgICAgfSAvLyBTw6NvIDg3IHBlcnNvbmFnZW5zLCBzZW5kbyBxdWUgY2FkYSBww6FnaW5hIHRlbSAxMCBwZXJzb25hZ2VucyBvIG7Dum1lcm8gbcOheGltbyBkZSBww6FnaW5hcyDDqSA5CiAgICAgIGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gInJpZ2h0IiAmJiB0aGlzLmN1cnJlbnRQYWdlIDwgOSkgewogICAgICAgIHRoaXMuY3VycmVudFBhZ2UrKzsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGF4aW9zLmdldCgiaHR0cHM6Ly9zd2FwaS5kZXYvYXBpL3Blb3BsZS8/cGFnZT0iLmNvbmNhdCh0aGlzLmN1cnJlbnRQYWdlKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLnBlb3BsZSA9IHJlcy5kYXRhLnJlc3VsdHM7CgogICAgICAgIF90aGlzMi5nZXRQbGFuZXRGb3JFYWNoUGVyc29uKCk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldFBsYW5ldEZvckVhY2hQZXJzb246IGZ1bmN0aW9uIGdldFBsYW5ldEZvckVhY2hQZXJzb24oKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5wZW9wbGUubWFwKGZ1bmN0aW9uIChwZXJzb24sIGluZGV4KSB7CiAgICAgICAgYXhpb3MuZ2V0KHBlcnNvbi5ob21ld29ybGQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgLy8gVnVlLnNldCDDqSBuZWNlc3PDoXJpbyBwYXJhIGF0cmlidWlyIGRpbmFtaWNhbWVudGUgYQogICAgICAgICAgLy8gcHJvcHJpZWRhZGUgcGxhbmV0IGVtIGNhZGEgZWxlbWVudG8gZGUgcGVvcGxlCiAgICAgICAgICBWdWUuc2V0KF90aGlzMy5wZW9wbGVbaW5kZXhdLCAicGxhbmV0IiwgcmVzLmRhdGEubmFtZSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["People.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,OAAA,GAAA,MAAA,KAAA;AACA,OAAA,UAAA,MAAA,0BAAA;AACA,OAAA,cAAA,MAAA,8BAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA,UADA;AAEA,IAAA,cAAA,EAAA;AAFA,GAFA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AAEA,MAAA,WAAA,EAAA,CAFA;AAGA,MAAA,OAAA,EAAA;AAHA,KAAA;AAKA,GAZA;AAaA,EAAA,OAbA,qBAaA;AAAA;;AACA,SAAA,OAAA,GAAA,IAAA;AACA,IAAA,KAAA,CAAA,GAAA,CAAA,sCAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,MAAA,GAAA,GAAA,CAAA,IAAA,CAAA,OAAA;;AACA,MAAA,KAAA,CAAA,sBAAA;;AACA,MAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,KAJA;AAKA,GApBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,SADA,EACA;AAAA;;AACA,UAAA,SAAA,KAAA,MAAA,IAAA,KAAA,WAAA,GAAA,CAAA,EAAA;AACA,aAAA,WAAA;AACA,OAFA,CAGA;AAHA,WAIA,IAAA,SAAA,KAAA,OAAA,IAAA,KAAA,WAAA,GAAA,CAAA,EAAA;AACA,aAAA,WAAA;AACA,OAFA,MAEA;AACA;AACA;;AACA,MAAA,KAAA,CACA,GADA,8CACA,KAAA,WADA,GAEA,IAFA,CAEA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,GAAA,CAAA,IAAA,CAAA,OAAA;;AACA,QAAA,MAAA,CAAA,sBAAA;AACA,OALA;AAMA,KAjBA;AAkBA,IAAA,sBAlBA,oCAkBA;AAAA;;AACA,WAAA,MAAA,CAAA,GAAA,CAAA,UAAA,MAAA,EAAA,KAAA,EAAA;AACA,QAAA,KAAA,CAAA,GAAA,CAAA,MAAA,CAAA,SAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA;AACA;AACA,UAAA,GAAA,CAAA,GAAA,CAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,EAAA,QAAA,EAAA,GAAA,CAAA,IAAA,CAAA,IAAA;AACA,SAJA;AAKA,OANA;AAOA;AA1BA;AArBA,CAAA","sourcesContent":["<template>\n  <b-container>\n    <b-row>\n      <b-col sm=\"12\" md=\"6\" lg=\"8\" xl=\"9\">\n        <h1 class=\"ml-3 mb-4 text-white\">Characters</h1>\n      </b-col>\n      <!-- Paginacao -->\n      <b-col sm=\"12\" md=\"6\" lg=\"4\" xl=\"3\" class=\"pt-3 text-white\">\n        <b-button variant=\"warning\" @click=\"changePage('left')\"\n          >Previous</b-button\n        >\n        <span class=\"d-inline-block pl-1 pr-1\"> Page: {{ currentPage }}</span\n        ><b-button variant=\"warning\" @click=\"changePage('right')\"\n          >Next</b-button\n        >\n      </b-col>\n    </b-row>\n\n    <!-- Loading spinner -->\n    <LoadingSpinner v-if=\"loading\" />\n\n    <b-row v-if=\"people\">\n      <b-col\n        lg=\"3\"\n        md=\"4\"\n        sm=\"6\"\n        v-for=\"(person, index) in people\"\n        :key=\"index\"\n      >\n        <PeopleCard :person=\"person\" />\n      </b-col>\n    </b-row>\n  </b-container>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport PeopleCard from \"../components/PeopleCard\";\nimport LoadingSpinner from \"../components/LoadingSpinner\";\nimport axios from \"axios\";\nexport default {\n  name: \"people\",\n  components: {\n    PeopleCard,\n    LoadingSpinner\n  },\n  data() {\n    return {\n      people: [],\n      currentPage: 1,\n      loading: false\n    };\n  },\n  created() {\n    this.loading = true;\n    axios.get(\"https://swapi.dev/api/people/?page=1\").then(res => {\n      this.people = res.data.results;\n      this.getPlanetForEachPerson();\n      this.loading = false;\n    });\n  },\n  methods: {\n    changePage(direction) {\n      if (direction === \"left\" && this.currentPage > 1) {\n        this.currentPage--;\n      }\n      // São 87 personagens, sendo que cada página tem 10 personagens o número máximo de páginas é 9\n      else if (direction === \"right\" && this.currentPage < 9) {\n        this.currentPage++;\n      } else {\n        return;\n      }\n      axios\n        .get(`https://swapi.dev/api/people/?page=${this.currentPage}`)\n        .then(res => {\n          this.people = res.data.results;\n          this.getPlanetForEachPerson();\n        });\n    },\n    getPlanetForEachPerson() {\n      this.people.map((person, index) => {\n        axios.get(person.homeworld).then(res => {\n          // Vue.set é necessário para atribuir dinamicamente a\n          // propriedade planet em cada elemento de people\n          Vue.set(this.people[index], \"planet\", res.data.name);\n        });\n      });\n    }\n  }\n};\n</script>\n"],"sourceRoot":"src/views"}]}