{"remainingRequest":"/home/rafael/desafio-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/rafael/desafio-frontend/src/views/FilmItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/rafael/desafio-frontend/src/views/FilmItem.vue","mtime":1630083349531},{"path":"/home/rafael/desafio-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rafael/desafio-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/rafael/desafio-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rafael/desafio-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBDaGFyYWN0ZXJNb2RhbCBmcm9tICIuLi9jb21wb25lbnRzL0NoYXJhY3Rlck1vZGFsIjsKaW1wb3J0IExvYWRpbmdTcGlubmVyIGZyb20gIi4uL2NvbXBvbmVudHMvTG9hZGluZ1NwaW5uZXIiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJmaWxtSXRlbSIsCiAgY29tcG9uZW50czogewogICAgQ2hhcmFjdGVyTW9kYWwsCiAgICBMb2FkaW5nU3Bpbm5lcgogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZpbG06IG51bGwsCiAgICAgIGNoYXJhY3RlcnM6IFtdLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgY2hhcmFjdGVyU2VsZWN0ZWQ6IG51bGwKICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgY29uc3QgZmlsbUlkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgd2luZG93LmNvbnNvbGUubG9nKHRoaXMuZmlsbSk7CiAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgYXhpb3MuZ2V0KCBgaHR0cDovL2xvY2FsaG9zdDozMDAwL3N0YXItd2Fycy92MS9maWxtL2ZpbG0vJHtmaWxtSWR9YCkudGhlbihyZXMgPT4gewogICAgICB0aGlzLmZpbG0gPSByZXMuZGF0YTsKICAgICAgd2luZG93LmNvbnNvbGUubG9nKHRoaXMuZmlsbSk7CiAgICAgIHRoaXMuZ2V0Q2hhcmFjdGVycygpOwogICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0Q2hhcmFjdGVycygpIHsKICAgICAgdGhpcy5jaGFyYWN0ZXJzID0gdGhpcy5maWxtLmNoYXJhY3RlcnM7CiAgICB9LAogICAgb3BlbkNoYXJhY3Rlck1vZGFsKGNoYXJhY3RlckluZGV4LCBldmVudCkgewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB0aGlzLmNoYXJhY3RlclNlbGVjdGVkID0gdGhpcy5jaGFyYWN0ZXJzW2NoYXJhY3RlckluZGV4XTsKICAgICAgdGhpcy4kcmVmcy5jaGFyYWN0ZXJNb2RhbC5zaG93TW9kYWwoKTsKICAgIH0sCiAgICBvcGVuU3RhclNoaXBNb2RhbChzdGFyU2hpcEluZGV4LCBldmVudCkgewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB0aGlzLnN0YXJTaGlwU2VsZWN0ZWQgPSB0aGlzLnN0YXJTaGlwc1tzdGFyU2hpcEluZGV4XTsKICAgICAgdGhpcy4kcmVmcy5zdGFyU2hpcE1vZGFsLnNob3dNb2RhbCgpOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["FilmItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FilmItem.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <b-container class=\"d-flex justify-content-center\">\n    <!-- Loading spinner -->\n    <LoadingSpinner v-if=\"loading\" />\n    <b-row v-else>\n      <b-col cols=\"12\">\n        <b-card style=\"border: none\" no-body class=\"overflow-hidden mb-3\">\n          <b-row no-gutters>\n            <b-col md=\"6\">\n              <b-card-body class=\"text-center\" :title=\"film.title\">\n                <b-card-text class=\"text-left\">\n                  <b>Diretor: </b>{{ film.director }}<br />\n                  <b>Produtor: </b>{{ film.producer }}<br />\n                  <div>\n                    <b>Personagens: </b>\n                    <a\n                      href=\"#\"\n                      v-for=\"(character, index) in characters\"\n                      :key=\"index\"\n                      @click=\"openCharacterModal(index, $event)\"\n                    >\n                      {{ character.name }},\n                    </a>\n                  </div>\n                  \n                </b-card-text>\n              </b-card-body>\n            </b-col>\n          </b-row>\n        </b-card>\n      </b-col>\n    </b-row>\n    <CharacterModal\n      ref=\"characterModal\"\n      :characterSelected=\"characterSelected\"\n    />\n    <StarShipModal ref=\"starShipModal\" :starShipSelected=\"starShipSelected\" />\n  </b-container>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport CharacterModal from \"../components/CharacterModal\";\nimport LoadingSpinner from \"../components/LoadingSpinner\";\n\nexport default {\n  name: \"filmItem\",\n  components: {\n    CharacterModal,\n    LoadingSpinner\n  },\n  data() {\n    return {\n      film: null,\n      characters: [],\n      loading: false,\n      characterSelected: null\n    };\n  },\n  created() {\n    const filmId = this.$route.params.id;\n    window.console.log(this.film);\n    this.loading = true;\n    axios.get( `http://localhost:3000/star-wars/v1/film/film/${filmId}`).then(res => {\n      this.film = res.data;\n      window.console.log(this.film);\n      this.getCharacters();\n      this.loading = false;\n    });\n  },\n  methods: {\n    getCharacters() {\n      this.characters = this.film.characters;\n    },\n    openCharacterModal(characterIndex, event) {\n      event.preventDefault();\n      this.characterSelected = this.characters[characterIndex];\n      this.$refs.characterModal.showModal();\n    },\n    openStarShipModal(starShipIndex, event) {\n      event.preventDefault();\n      this.starShipSelected = this.starShips[starShipIndex];\n      this.$refs.starShipModal.showModal();\n    }\n  }\n};\n</script>\n\n<style scoped></style>\n"]}]}