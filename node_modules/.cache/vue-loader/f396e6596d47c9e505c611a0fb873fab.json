{"remainingRequest":"/home/rafael/desafio-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/rafael/desafio-frontend/src/views/People.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/rafael/desafio-frontend/src/views/People.vue","mtime":1629893724138},{"path":"/home/rafael/desafio-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rafael/desafio-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/rafael/desafio-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rafael/desafio-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IFBlb3BsZUNhcmQgZnJvbSAiLi4vY29tcG9uZW50cy9QZW9wbGVDYXJkIjsKaW1wb3J0IExvYWRpbmdTcGlubmVyIGZyb20gIi4uL2NvbXBvbmVudHMvTG9hZGluZ1NwaW5uZXIiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInBlb3BsZSIsCiAgY29tcG9uZW50czogewogICAgUGVvcGxlQ2FyZCwKICAgIExvYWRpbmdTcGlubmVyCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGVvcGxlOiBbXSwKICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgIGxvYWRpbmc6IGZhbHNlCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICBheGlvcy5nZXQoImh0dHBzOi8vc3dhcGkuZGV2L2FwaS9wZW9wbGUvP3BhZ2U9MSIpLnRoZW4ocmVzID0+IHsKICAgICAgdGhpcy5wZW9wbGUgPSByZXMuZGF0YS5yZXN1bHRzOwogICAgICB0aGlzLmdldFBsYW5ldEZvckVhY2hQZXJzb24oKTsKICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNoYW5nZVBhZ2UoZGlyZWN0aW9uKSB7CiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICJsZWZ0IiAmJiB0aGlzLmN1cnJlbnRQYWdlID4gMSkgewogICAgICAgIHRoaXMuY3VycmVudFBhZ2UtLTsKICAgICAgfQogICAgICAvLyBTw6NvIDg3IHBlcnNvbmFnZW5zLCBzZW5kbyBxdWUgY2FkYSBww6FnaW5hIHRlbSAxMCBwZXJzb25hZ2VucyBvIG7Dum1lcm8gbcOheGltbyBkZSBww6FnaW5hcyDDqSA5CiAgICAgIGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gInJpZ2h0IiAmJiB0aGlzLmN1cnJlbnRQYWdlIDwgOSkgewogICAgICAgIHRoaXMuY3VycmVudFBhZ2UrKzsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgYXhpb3MKICAgICAgICAuZ2V0KGBodHRwczovL3N3YXBpLmRldi9hcGkvcGVvcGxlLz9wYWdlPSR7dGhpcy5jdXJyZW50UGFnZX1gKQogICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICB0aGlzLnBlb3BsZSA9IHJlcy5kYXRhLnJlc3VsdHM7CiAgICAgICAgICB0aGlzLmdldFBsYW5ldEZvckVhY2hQZXJzb24oKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBnZXRQbGFuZXRGb3JFYWNoUGVyc29uKCkgewogICAgICB0aGlzLnBlb3BsZS5tYXAoKHBlcnNvbiwgaW5kZXgpID0+IHsKICAgICAgICBheGlvcy5nZXQocGVyc29uLmhvbWV3b3JsZCkudGhlbihyZXMgPT4gewogICAgICAgICAgLy8gVnVlLnNldCDDqSBuZWNlc3PDoXJpbyBwYXJhIGF0cmlidWlyIGRpbmFtaWNhbWVudGUgYQogICAgICAgICAgLy8gcHJvcHJpZWRhZGUgcGxhbmV0IGVtIGNhZGEgZWxlbWVudG8gZGUgcGVvcGxlCiAgICAgICAgICBWdWUuc2V0KHRoaXMucGVvcGxlW2luZGV4XSwgInBsYW5ldCIsIHJlcy5kYXRhLm5hbWUpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["People.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"People.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <b-container>\n    <b-row>\n      <b-col sm=\"12\" md=\"6\" lg=\"8\" xl=\"9\">\n        <h1 class=\"ml-3 mb-4 text-white\">Characters</h1>\n      </b-col>\n      <!-- Paginacao -->\n      <b-col sm=\"12\" md=\"6\" lg=\"4\" xl=\"3\" class=\"pt-3 text-white\">\n        <b-button variant=\"warning\" @click=\"changePage('left')\"\n          >Previous</b-button\n        >\n        <span class=\"d-inline-block pl-1 pr-1\"> Page: {{ currentPage }}</span\n        ><b-button variant=\"warning\" @click=\"changePage('right')\"\n          >Next</b-button\n        >\n      </b-col>\n    </b-row>\n\n    <!-- Loading spinner -->\n    <LoadingSpinner v-if=\"loading\" />\n\n    <b-row v-if=\"people\">\n      <b-col\n        lg=\"3\"\n        md=\"4\"\n        sm=\"6\"\n        v-for=\"(person, index) in people\"\n        :key=\"index\"\n      >\n        <PeopleCard :person=\"person\" />\n      </b-col>\n    </b-row>\n  </b-container>\n</template>\n\n<script>\nimport Vue from \"vue\";\nimport PeopleCard from \"../components/PeopleCard\";\nimport LoadingSpinner from \"../components/LoadingSpinner\";\nimport axios from \"axios\";\nexport default {\n  name: \"people\",\n  components: {\n    PeopleCard,\n    LoadingSpinner\n  },\n  data() {\n    return {\n      people: [],\n      currentPage: 1,\n      loading: false\n    };\n  },\n  created() {\n    this.loading = true;\n    axios.get(\"https://swapi.dev/api/people/?page=1\").then(res => {\n      this.people = res.data.results;\n      this.getPlanetForEachPerson();\n      this.loading = false;\n    });\n  },\n  methods: {\n    changePage(direction) {\n      if (direction === \"left\" && this.currentPage > 1) {\n        this.currentPage--;\n      }\n      // São 87 personagens, sendo que cada página tem 10 personagens o número máximo de páginas é 9\n      else if (direction === \"right\" && this.currentPage < 9) {\n        this.currentPage++;\n      } else {\n        return;\n      }\n      axios\n        .get(`https://swapi.dev/api/people/?page=${this.currentPage}`)\n        .then(res => {\n          this.people = res.data.results;\n          this.getPlanetForEachPerson();\n        });\n    },\n    getPlanetForEachPerson() {\n      this.people.map((person, index) => {\n        axios.get(person.homeworld).then(res => {\n          // Vue.set é necessário para atribuir dinamicamente a\n          // propriedade planet em cada elemento de people\n          Vue.set(this.people[index], \"planet\", res.data.name);\n        });\n      });\n    }\n  }\n};\n</script>\n"]}]}