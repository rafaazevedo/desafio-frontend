{"remainingRequest":"/home/rafael/desafio-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/rafael/desafio-frontend/src/views/FilmItem.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/rafael/desafio-frontend/src/views/FilmItem.vue","mtime":1630082918501},{"path":"/home/rafael/desafio-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rafael/desafio-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/rafael/desafio-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/rafael/desafio-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBDaGFyYWN0ZXJNb2RhbCBmcm9tICIuLi9jb21wb25lbnRzL0NoYXJhY3Rlck1vZGFsIjsKaW1wb3J0IFN0YXJTaGlwTW9kYWwgZnJvbSAiLi4vY29tcG9uZW50cy9TdGFyU2hpcE1vZGFsIjsKaW1wb3J0IExvYWRpbmdTcGlubmVyIGZyb20gIi4uL2NvbXBvbmVudHMvTG9hZGluZ1NwaW5uZXIiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJmaWxtSXRlbSIsCiAgY29tcG9uZW50czogewogICAgQ2hhcmFjdGVyTW9kYWwsCiAgICBTdGFyU2hpcE1vZGFsLAogICAgTG9hZGluZ1NwaW5uZXIKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmaWxtOiBudWxsLAogICAgICBjaGFyYWN0ZXJzOiBbXSwKICAgICAgc3RhclNoaXBzOiBbXSwKICAgICAgdmVoaWNsZXM6IFtdLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgY2hhcmFjdGVyU2VsZWN0ZWQ6IG51bGwsCiAgICAgIHN0YXJTaGlwU2VsZWN0ZWQ6IG51bGwsCiAgICAgIGltZzogbnVsbAogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICBjb25zdCBmaWxtSWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICB3aW5kb3cuY29uc29sZS5sb2codGhpcy5maWxtKTsKICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICBheGlvcy5nZXQoIGBodHRwOi8vbG9jYWxob3N0OjMwMDAvc3Rhci13YXJzL3YxL2ZpbG0vZmlsbS8ke2ZpbG1JZH1gKS50aGVuKHJlcyA9PiB7CiAgICAgIHRoaXMuZmlsbSA9IHJlcy5kYXRhOwogICAgICB3aW5kb3cuY29uc29sZS5sb2codGhpcy5maWxtKTsKICAgICAgdGhpcy5nZXRDaGFyYWN0ZXJzKCk7CiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRDaGFyYWN0ZXJzKCkgewogICAgICB0aGlzLmNoYXJhY3RlcnMgPSB0aGlzLmZpbG0uY2hhcmFjdGVyczsKICAgIH0sCiAgICBvcGVuQ2hhcmFjdGVyTW9kYWwoY2hhcmFjdGVySW5kZXgsIGV2ZW50KSB7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHRoaXMuY2hhcmFjdGVyU2VsZWN0ZWQgPSB0aGlzLmNoYXJhY3RlcnNbY2hhcmFjdGVySW5kZXhdOwogICAgICB0aGlzLiRyZWZzLmNoYXJhY3Rlck1vZGFsLnNob3dNb2RhbCgpOwogICAgfSwKICAgIG9wZW5TdGFyU2hpcE1vZGFsKHN0YXJTaGlwSW5kZXgsIGV2ZW50KSB7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHRoaXMuc3RhclNoaXBTZWxlY3RlZCA9IHRoaXMuc3RhclNoaXBzW3N0YXJTaGlwSW5kZXhdOwogICAgICB0aGlzLiRyZWZzLnN0YXJTaGlwTW9kYWwuc2hvd01vZGFsKCk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["FilmItem.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FilmItem.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <b-container class=\"d-flex justify-content-center\">\n    <!-- Loading spinner -->\n    <LoadingSpinner v-if=\"loading\" />\n    <b-row v-else>\n      <b-col cols=\"12\">\n        <b-card style=\"border: none\" no-body class=\"overflow-hidden mb-3\">\n          <b-row no-gutters>\n            <b-col md=\"6\">\n              <b-card-body class=\"text-center\" :title=\"film.title\">\n                <b-card-text class=\"text-left\">\n                  <b>Diretor: </b>{{ film.director }}<br />\n                  <b>Produtor: </b>{{ film.producer }}<br />\n                  <div>\n                    <b>Personagens: </b>\n                    <a\n                      href=\"#\"\n                      v-for=\"(character, index) in characters\"\n                      :key=\"index\"\n                      @click=\"openCharacterModal(index, $event)\"\n                    >\n                      {{ character.name }},\n                    </a>\n                  </div>\n                  \n                </b-card-text>\n              </b-card-body>\n            </b-col>\n          </b-row>\n        </b-card>\n      </b-col>\n    </b-row>\n    <CharacterModal\n      ref=\"characterModal\"\n      :characterSelected=\"characterSelected\"\n    />\n    <StarShipModal ref=\"starShipModal\" :starShipSelected=\"starShipSelected\" />\n  </b-container>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport CharacterModal from \"../components/CharacterModal\";\nimport StarShipModal from \"../components/StarShipModal\";\nimport LoadingSpinner from \"../components/LoadingSpinner\";\n\nexport default {\n  name: \"filmItem\",\n  components: {\n    CharacterModal,\n    StarShipModal,\n    LoadingSpinner\n  },\n  data() {\n    return {\n      film: null,\n      characters: [],\n      starShips: [],\n      vehicles: [],\n      loading: false,\n      characterSelected: null,\n      starShipSelected: null,\n      img: null\n    };\n  },\n  created() {\n    const filmId = this.$route.params.id;\n    window.console.log(this.film);\n    this.loading = true;\n    axios.get( `http://localhost:3000/star-wars/v1/film/film/${filmId}`).then(res => {\n      this.film = res.data;\n      window.console.log(this.film);\n      this.getCharacters();\n      this.loading = false;\n    });\n  },\n  methods: {\n    getCharacters() {\n      this.characters = this.film.characters;\n    },\n    openCharacterModal(characterIndex, event) {\n      event.preventDefault();\n      this.characterSelected = this.characters[characterIndex];\n      this.$refs.characterModal.showModal();\n    },\n    openStarShipModal(starShipIndex, event) {\n      event.preventDefault();\n      this.starShipSelected = this.starShips[starShipIndex];\n      this.$refs.starShipModal.showModal();\n    }\n  }\n};\n</script>\n\n<style scoped></style>\n"]}]}